<div class="container mt-4">
  <h4 class="text-primary mb-3">Coach Chat</h4>

  <!-- Chat Box -->
  <div
    class="chat-box border rounded p-3 mb-3 bg-light"
    style="height: 400px; overflow-y: auto"
  >
    <div *ngFor="let msg of messages()">
      <div
        [ngClass]="{
          'text-end': msg.senderId === currentUserId,
          'text-start': msg.senderId !== currentUserId
        }"
      >
        <div
          [class]="
            'd-inline-block px-3 py-2 rounded mb-1 ' +
            (msg.senderId === currentUserId ? 'bg-primary text-white' : 'bg-white border')
          "
        >
          {{ msg.content }}
        </div>
        <div class="text-muted small">{{ msg.sentAt | date: 'shortTime' }}</div>
      </div>
    </div>
  </div>

  <!-- Message Input -->
  <div class="input-group">
    <input
      type="text"
      class="form-control"
      placeholder="Type your message..."
      [formControl]="messageControl"
      (keyup.enter)="sendMessage()"
    />
    <button class="btn btn-primary" (click)="sendMessage()">Send</button>
  </div>
</div>
